<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Parameterized Reports</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Markdown v2</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Authoring
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R Markdown</li>
    <li>
      <a href="authoring_quick_tour.html">Quick Tour</a>
    </li>
    <li>
      <a href="authoring_basics.html">Markdown Basics</a>
    </li>
    <li>
      <a href="authoring_pandoc_markdown.html">Pandoc Markdown</a>
    </li>
    <li>
      <a href="authoring_rcodechunks.html">R Code Chunks</a>
    </li>
    <li>
      <a href="authoring_bibliographies_and_citations.html">Bibliographies &amp; Citations</a>
    </li>
    <li>
      <a href="authoring_migrating_from_v1.html">Migrating from v1</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="http://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf">Cheat Sheet [PDF]</a>
    </li>
    <li>
      <a href="http://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">Reference Guide [PDF]</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Websites</li>
    <li>
      <a href="rmarkdown_websites.html">R Markdown Websites</a>
    </li>
    <li>
      <a href="rmarkdown_site_generators.html">Custom Site Generators</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Shiny</li>
    <li>
      <a href="authoring_shiny.html">Interactive Documents</a>
    </li>
    <li>
      <a href="authoring_embedded_shiny.html">Embedded Shiny Apps</a>
    </li>
    <li>
      <a href="authoring_shiny_widgets.html">Creating Shiny Widgets</a>
    </li>
    <li>
      <a href="authoring_shiny_advanced.html">Advanced Topics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Formats
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Documents</li>
    <li>
      <a href="html_document_format.html">HTML</a>
    </li>
    <li>
      <a href="pdf_document_format.html">PDF</a>
    </li>
    <li>
      <a href="word_document_format.html">Word</a>
    </li>
    <li>
      <a href="odt_document_format.html">ODT</a>
    </li>
    <li>
      <a href="rtf_document_format.html">RTF</a>
    </li>
    <li>
      <a href="markdown_document_format.html">Markdown</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Presentations</li>
    <li>
      <a href="ioslides_presentation_format.html">ioslides</a>
    </li>
    <li>
      <a href="revealjs_presentation_format.html">reveal.js</a>
    </li>
    <li>
      <a href="slidy_presentation_format.html">Slidy</a>
    </li>
    <li>
      <a href="beamer_presentation_format.html">Beamer</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Other</li>
    <li>
      <a href="tufte_handout_format.html">Tufte Handout</a>
    </li>
    <li>
      <a href="package_vignette_format.html">Package Vignette</a>
    </li>
    <li>
      <a href="github_document_format.html">GitHub Document</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Developer
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="developer_html_widgets.html">HTML Widgets</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="developer_parameterized_reports.html">Parameterized Reports</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="developer_document_templates.html">Document Templates</a>
    </li>
    <li>
      <a href="developer_custom_formats.html">Creating New Formats</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="https://github.com/rstudio/rmarkdown">R Markdown on GitHub</a>
    </li>
  </ul>
</li>
<li>
  <a href="articles.html">Articles</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/rmarkdown">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Parameterized Reports</h1>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>R Markdown documents can optionally include one or more parameters. Parameters are useful when you want to re-render the same report with distinct values for various key inputs, for example:</p>
<ol style="list-style-type: decimal">
<li><p>Running a report specific to a department or geographic region.</p></li>
<li><p>Running a report that covers a specific period in time.</p></li>
<li><p>Running multiple versions of a report for distinct sets of core assumptions.</p></li>
</ol>
<p>R Markdown parameter names, types, and default values are declared in the YAML section at the top of the document. To change these values for a given rendering you use the <code>params</code> argument to the <code>rmarkdown::render</code> function.</p>
<p>Note that parameterized reports are a new feature of R Markdown and therefore require very recent versions of the <strong>knitr</strong> (v1.11) and <strong>rmarkdown</strong> (v0.8) packages. You can install the most up to date versions with the following command:</p>
<pre class="r"><code>install.packages(c(&quot;knitr&quot;, &quot;rmarkdown&quot;))</code></pre>
<p>If you are using RStudio you should also download the <a href="https://www.rstudio.com/products/rstudio/download/preview/">preview release</a> of RStudio (as it has some additional changes required to support previewing reports with parameters).</p>
</div>
<div id="declararing-parameters" class="section level2">
<h2>Declararing Parameters</h2>
<div id="yaml-params-field" class="section level3">
<h3>YAML Params Field</h3>
<p>Parameters are declared using the <code>params</code> field within the YAML section at the top of the document, for example:</p>
<pre class="yaml"><code>---
title: My Document
output: html_document
params:
   region: east
---</code></pre>
<p>Parameter values can be provided inline as illustrated above or can be included in a value sub-key. For example:</p>
<pre class="yaml"><code>---
title: My Document
output: html_document
params:
  region:
    value: east
---</code></pre>
<p>This second form is useful when you need to provide additional details about the parameter (e.g. information about how parameters should be presented to end-users).</p>
</div>
<div id="parameter-types" class="section level3">
<h3>Parameter Types</h3>
<p>All of the standard R types that can be parsed by the <code>yaml::yaml.load</code> function are supported including <code>character</code>, <code>integer</code>, <code>numeric</code>, and <code>logical</code>. In addition, you can use arbitrary other R object types by specifying the value using an R expression. For example, to specify a date or date-time you could use this code:</p>
<pre class="yaml"><code>---
title: My Document
output: html_document
params:
  start: !r as.Date(&quot;2015-01-01&quot;)
  snapshot: !r as.POSIXct(&quot;2015-01-01 12:30:00&quot;)
---</code></pre>
<p>Note that the date and data-time values are prefaced with <code>!r</code>, which indicates that the value is an R expression rather than a literal value.</p>
</div>
</div>
<div id="using-parameters" class="section level2">
<h2>Using Parameters</h2>
<div id="accessing-from-r" class="section level3">
<h3>Accessing from R</h3>
<p>The declared parameters are automatically made available within the knit environment as components of a read-only list named <code>params</code>. For example, the values of the above two parameters can be accessed in a chunk with the following R code:</p>
<pre class="markdown"><code>&#96;&#96;&#96;{r}
params$region
params$start
&#96;&#96;&#96;</code></pre>
<p>When you preview the document in RStudio (or otherwise call the <code>rmarkdown::render</code> function with no arguments) the default parameter values listed in the YAML will be used.</p>
</div>
<div id="passing-parameters" class="section level3">
<h3>Passing Parameters</h3>
<p>To vary the parameters of an R Markdown document from the defaults you use the <code>params</code> argument of the <code>rmarkdown::render</code> function. For example:</p>
<pre class="r"><code>rmarkdown::render(&quot;MyDocument.Rmd&quot;, params = list(
  region = &quot;west&quot;,
  start = as.Date(&quot;2015-02-01&quot;)
))</code></pre>
<p>You can of course specify only a subset of the available parameters in your call to render. For example:</p>
<pre class="r"><code>rmarkdown::render(&quot;MyDocument.Rmd&quot;, params = list(
  region = &quot;west&quot;
))</code></pre>
<p>In this case the default values are used for any parameters not explicitly provided.</p>
<p>You might also find it convenient to wrap the call to render in an R function, for example:</p>
<pre class="r"><code>renderMyDocument &lt;- function(region, start) {
  rmarkdown::render(&quot;MyDocument.Rmd&quot;, params = list(
    region = region,
    start = start
  ))
}</code></pre>
</div>
<div id="parameter-user-interfaces" class="section level3">
<h3>Parameter User Interfaces</h3>
<p>In the <a href="#passing-parameters">Passing Parameters</a> section above we described wrapping the invocation of a report in an R funtion to allow customization of it’s parameters. It’s also possible to provide a user-interface for specifying parameter values.</p>
<p>If your document contains parameters and you specify the <code>params = &quot;ask&quot;</code> argument to the <code>render</code> function then a user-interface is provided to specify the parameter values. For example, consider the following parameter declarations:</p>
<pre class="yaml"><code>---
title: &quot;My Document&quot;
output: html_document
params:
  minimum: 100
  region: east
  data: results.csv
---</code></pre>
<p>If you call the <code>render</code> function as follows:</p>
<pre class="r"><code>rmarkdown::render(&quot;MyDocument.Rmd&quot;, params = &quot;ask&quot;)</code></pre>
<p>Then you’ll see the following user-interface for parameter entry:</p>
<p><img src="images/parameters-simple.png" width="523" height="384"/></p>
<p>The user-interface is generated using <a href="http://shiny.rstudio.com">Shiny</a> and as a result can take advantage of standard Shiny input controls. You can customize inputs by adding the appropriate values to the parameter YAML. For example, the following parameters are customized to use the Shiny <code>sliderInput</code>, <code>selectInput</code>, and <code>fileInput</code> controls:</p>
<pre class="yaml"><code>---
title: &quot;My Document&quot;
output: html_document
params:
  minimum: 
    label: &quot;Minimum:&quot;
    value: 100
    input: slider
    min: 0
    max: 1000
  region:
    label: &quot;Region:&quot;
    value: east
    input: select
    choices: [east, west, north, south]
  data: 
    label: &quot;Input dataset:&quot;
    value: results.csv
    input: file
---</code></pre>
<p>This results in the following user-interface for parameter editing:</p>
<p><img src="images/parameters-custom.png" width="523" height="411"/></p>
<p>The type of Shiny control used is controlled by the <code>input</code> field. The following input types are currently supported (see the help for the associated Shiny function for additional attributes which can be specified to customize the input):</p>
<table>
<thead>
<tr class="header">
<th>Input Type</th>
<th>Shiny Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>checkbox</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/checkboxInput.html">checkboxInput</a></td>
</tr>
<tr class="even">
<td>numeric</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/numericInput.html">numericInput</a></td>
</tr>
<tr class="odd">
<td>slider</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/sliderInput.html">sliderInput</a></td>
</tr>
<tr class="even">
<td>date</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/dateInput.html">dateInput</a></td>
</tr>
<tr class="odd">
<td>text</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/textInput.html">textInput</a></td>
</tr>
<tr class="even">
<td>file</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/fileInput.html">fileInput</a></td>
</tr>
<tr class="odd">
<td>radio</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/radioButtons.html">radioButtons</a></td>
</tr>
<tr class="even">
<td>select</td>
<td><a href="http://shiny.rstudio.com/reference/shiny/latest/selectInput.html">selectInput</a></td>
</tr>
</tbody>
</table>
<p>Note that attributes provided for parameters are automatically passed as arguments to the respective Shiny input functions listed above.</p>
<div id="rstudio-preview" class="section level4">
<h4>RStudio Preview</h4>
<p>When previewing an R Markdown document within RStudio you can use the <strong>Knit with Parameters</strong> command (available from the standard Knit toolbar menu) to specify parameters prior to previewing.</p>
</div>
</div>
</div>



<!-- bizible -->
<script type="text/javascript" src="//cdn.bizible.com/scripts/bizible.js" async=""></script>


<!-- disqus -->
  <div id="disqus_thread" style="margin-top: 45px;"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'rmarkdown'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>

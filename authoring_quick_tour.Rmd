---
title: "R Markdown Quick Tour"
output:
  html_document:
    toc: yes
    toc_depth: 3
---

### Overview

![R Markdown Flow](images/RMarkdownFlow.png)

Creating documents with R Markdown starts with an .Rmd file that contains a combination of markdown (content with simple text formatting) and R code chunks. The .Rmd file is fed to [knitr](http://yihui.name/knitr/), which executes all of the R code chunks and creates a new markdown (.md) document which includes the R code and it's output.

The markdown file generated by knitr is then processed by [pandoc](http://pandoc.org/) which is responsible for creating a finished web page, PDF, MS Word document, or other format.

This may sound complicated, but R Markdown makes it extremely simple by encapsulating all of the above processing into a single `render` function. Better still, RStudio includes a "Knit" button that enables you to render an .Rmd and preview it using a single click or keyboard shortcut.

### Installation

You can install the R Markdown package from CRAN as follows:

```r
install.packages("rmarkdown")
```

### Markdown Basics

Markdown is a simple formatting language designed to make authoring content easy for everyone. Rather than writing complex markup code (e.g. HTML or LaTeX), Markdown enables the use of a syntax much more like plain-text email. For example the file on the left shows basic Markdown and the resulting output on the right:

![Markdown Overview](images/markdownOverview.png)

### R Code Chunks

Within an R Markdown file, R Code Chunks can be embedded using the native Markdown syntax for fenced code regions. For example, the following code chunk computes a data summary and renders a plot as a PNG image:

![Markdown Chunk](images/markdownChunk.png)


### Inline R Code

You can also evaluate R expressions inline by enclosing the expression within a single back-tick qualified with 'r'. For example, the following code:

![Markdown Inline](images/markdownInline.png)

Results in this output: "I counted 2 red trucks on the highway."

### Embedding Equations

You can embed LaTeX or MathML equations in R Markdown files using the following syntax:

* *`$equation$`* for inline equations (note there must not be white space adjacent to the $ delimiters)
* *`$$ equation $$`* for display equations
* *`<math ...> </math>`* for MathML equations.

For example:

![Equation Inline](images/equations_inline.png)

### Rendering Output

There are two ways to render an R Markdown document into it's final output format. If you are using RStudio, then the "Knit" command (Ctrl+Shift+K) will render the document and display a preview of it.

If you are not using RStudio then you simply need to call the `rmarkdown::render` function, for example:

```r
rmarkdown::render("input.Rmd")
```

Note that in the case using the "Knit" button in RStudio the basic mechanism is the same (RStudio calls the `rmarkdown::render` function under the hood).

### Output Options

R Markdown documents can contain a metadata section that includes both title, author, and date information as well as options for customizing output. For example, this metadata included at the top of an Rmd file adds a table of contents and chooses a different HTML theme:

```
---
title: "Sample Document"
output:
  html_document:
    toc: true
    theme: united
---
```

R Markdown has built in support for several output formats (HTML, PDF, and MS Word documents as well as Beamer presentations). These formats can also be specified in metadata, for example:

```
---
title: "Sample Document"
output:
  pdf_document:
    toc: true
    highlight: zenburn
---
```

If you aren't specifying format options you can also just use a simple format name:

```
---
title: "Sample Document"
output: pdf_document
---
```

Multiple formats can be specified in metadata:

```
---
title: "Sample Document"
output:
  html_document:
    toc: true
    theme: united
  pdf_document:
    toc: true
    highlight: zenburn
---
```

If you are using `rmarkdown::render` then you can pass a format name to `render` to select from the available formats. For example:

```r
render("input.Rmd", "pdf_document")
```

You can also render all formats defined in an input file with:

```r
render("input.Rmd", "all")
```


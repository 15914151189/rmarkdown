---
title: "R Code Chunks"
output:
  html_document:
    toc_float: false
    includes:
      before_body: [include_header.html, include_lessons_nav.html]
      after_body: [include_lessons_nav_end.html, include_footer.html]
---

Within an R Markdown file, R Code Chunks can be embedded with the native Markdown syntax for fenced code regions. For example, the following code chunk computes a data summary and renders a plot as a PNG image:

![](lesson-images/markdownChunk.png)

## Chunk Options

You can customize how code chunks are displayed by adding options within the brackets at the start of the code chunk. For example, the option `echo=FALSE` will cause the chunk output, but not the code chunk itself, to be displayed in the final document.

![](lesson-images/markdownChunk2.png)

You can learn more about code chunk options by reading [R Code Chunks](http://rmarkdown.rstudio.com/authoring_rcodechunks.html). The [R Markdown Reference Guide](http://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf) provides a glossary of the many code chunk options that are available.

## Exercise

The R script below visualizes the price and trade volume of two stocks, Amazon (AMZN) and Apple (AAPL).

```{r eval = FALSE}
library(quantmod)
library(dygraphs)

stock1 <- getSymbols("AMZN", auto.assign = FALSE,
                    from = "2016-01-01", end = Sys.Date())
stock2 <- getSymbols("AAPL", auto.assign = FALSE,
                    from = "2016-01-01", end = Sys.Date())

# Prices
dygraph(Cl(stock1))
dygraph(Cl(stock2))

# Volume
dygraph(Vo(stock1))
dygraph(Vo(stock2))
```

Use R code chunks to embed the script throughout your document. Arrange for your finished report to look exactly like this---no messages, no code, just results.

You will need to install the quantmod and dygraphs packages if you do not already have them:

```{r eval = FALSE}
install.packages(c("quantmod", "dygraphs"))
```

You will also need a copy of your solution to exercise 2. You can download one [here](lesson-exercises/exercise-3.Rmd). Solutions will build on each other for the rest of the tutorial.

***
# Introduction

```{r include = FALSE}
library(quantmod)
library(dygraphs)

stock1 <- getSymbols("AMZN", auto.assign = FALSE,
                    from = "2016-01-01", end = Sys.Date())
stock2 <- getSymbols("AAPL", auto.assign = FALSE,
                    from = "2016-01-01", end = Sys.Date())
```


This report examines the price of two stocks:

* AMZN
* AAPL

It is written in [R Markdown](http://rmarkdown.rstudio.com), an authoring format that enables easy creation of dynamic documents, presentations, and reports from R. R Markdown combines the core syntax of **markdown** (an easy to write plain text format) with embedded **R** code chunks that are run so their output can be included in the final document.

The data comes from [Yahoo finance](http://finance.yahoo.com).

### AMZN price

```{r echo = FALSE}
dygraph(Cl(stock1))
```

### AAPL price

```{r echo = FALSE}
dygraph(Cl(stock2))
```

### AMZN volume

```{r echo = FALSE}
dygraph(Vo(stock1))
```

### AAPL volume

```{r echo = FALSE}
dygraph(Vo(stock2))
```

***

## Show Answer

## Model Answer

```{r echo = FALSE, comment = ""}
cat(htmltools::includeText("lesson-solutions/solution-3.Rmd"))
```

## [Continue to next lesson](lesson-4.html)
